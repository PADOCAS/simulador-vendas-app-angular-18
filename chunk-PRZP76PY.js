import{B as G,C as J,D as K,I as W,J as E,K as D,L as X,M as T,N as Y,O as Z,P as tt,Q as et,R as it,S as nt,T as ot,U as at,V as rt,W as R,a as z,h as q,ha as lt,ia as dt,ja as g,v as A,x as N,y as B,z as U}from"./chunk-HLVTZGI6.js";import{g as O}from"./chunk-YQSY7TVP.js";import{Db as o,Eb as a,Fb as f,Gb as h,Hb as _,Jb as S,Mb as y,Ob as I,Sb as M,Tb as P,Ub as b,Yb as l,Za as s,Zb as w,_a as F,aa as H,ac as L,bc as j,cc as c,d as k,fa as $,ka as Q,sb as u,t as V,ta as v,ua as x,ub as m}from"./chunk-MRXOC5DB.js";var mt=(()=>{let i=class i{constructor(e){this.http=e}getProdutos(){return this.http.get(g.api+"produtos")}salvar(e){return e.id!==null&&e.id!==0?this.http.put(g.api+"produtos/"+e.id,e):this.http.post(g.api+"produtos",e)}pegar(e){return this.http.get(g.api+"produtos/"+e)}deletar(e){return this.http.delete(g.api+"produtos/"+e)}};i.\u0275fac=function(r){return new(r||i)($(z))},i.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var pt=()=>[5,10,20],C=t=>({"produto-inativo":t});function ut(t,i){t&1&&(o(0,"th",17),l(1,"Id"),a())}function ft(t,i){if(t&1&&(o(0,"td",18),l(1),a()),t&2){let n=i.$implicit;m("ngClass",c(2,C,!n.ativo)),s(),w(n.id)}}function Ct(t,i){t&1&&(o(0,"th",17),l(1,"Descri\xE7\xE3o"),a())}function ht(t,i){if(t&1&&(o(0,"td",18),l(1),a()),t&2){let n=i.$implicit;m("ngClass",c(2,C,!n.ativo)),s(),w(n.descricao)}}function _t(t,i){t&1&&(o(0,"th",17),l(1,"Unidade Medida"),a())}function gt(t,i){if(t&1&&(o(0,"td",18),l(1),a()),t&2){let n=i.$implicit;m("ngClass",c(2,C,!n.ativo)),s(),w(n.unidadeMedida)}}function wt(t,i){t&1&&(o(0,"th",17),l(1,"Ativo"),a())}function vt(t,i){if(t&1&&(o(0,"td",18),l(1),a()),t&2){let n=i.$implicit;m("ngClass",c(2,C,!n.ativo)),s(),w(n.ativo?"Sim":"N\xE3o")}}function xt(t,i){t&1&&f(0,"th",17)}function St(t,i){if(t&1){let n=S();o(0,"td",18)(1,"button",19),y("click",function(){let r=v(n).$implicit,d=I();return x(d.onClickEditar(r))}),o(2,"mat-icon"),l(3,"edit"),a()()()}if(t&2){let n=i.$implicit;m("ngClass",c(2,C,!n.ativo)),s(),m("ngClass",c(4,C,!n.ativo))}}function yt(t,i){t&1&&f(0,"th",17)}function Mt(t,i){if(t&1){let n=S();o(0,"td",18)(1,"button",20),y("click",function(){let r=v(n).$implicit,d=I();return x(d.onClickDeletar(r))}),o(2,"mat-icon"),l(3,"delete"),a()()()}if(t&2){let n=i.$implicit;m("ngClass",c(2,C,!n.ativo)),s(),m("ngClass",c(4,C,!n.ativo))}}function Pt(t,i){t&1&&f(0,"tr",21)}function bt(t,i){t&1&&f(0,"tr",22)}var Bt=(()=>{let i=class i{constructor(e,r){this.produtoService=e,this.router=r,this.dataSource=new R,this.showLoading=!1,this.displayedColumns=["id","descricao","unidadeMedida","ativo","editar","excluir"]}ngAfterViewInit(){this.loadProdutos()}loadProdutos(){return k(this,null,function*(){this.showLoading=!0;let e=yield V(this.produtoService.getProdutos());this.dataSource=new R(e),this.table.dataSource=this.dataSource,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.showLoading=!1})}navegarParaCadFornecedor(){this.router.navigate(["/cad-produto"])}onClickEditar(e){e!=null&&e.id!==void 0&&e.id!==null&&this.router.navigate(["/cad-produto-edit",e.id])}onClickDeletar(e){return k(this,null,function*(){e!=null&&e.id!==void 0&&e.id!==null&&confirm(`Deletar Produto (${e.id}) ${e.descricao} ?`)&&(this.showLoading=!0,this.produtoService.deletar(e.id).subscribe(r=>{this.showLoading=!1,this.loadProdutos()}))})}};i.\u0275fac=function(r){return new(r||i)(F(mt),F(q))},i.\u0275cmp=Q({type:i,selectors:[["app-produtos"]],viewQuery:function(r,d){if(r&1&&(M(E,5),M(D,5),M(T,5)),r&2){let p;P(p=b())&&(d.paginator=p.first),P(p=b())&&(d.sort=p.first),P(p=b())&&(d.table=p.first)}},standalone:!0,features:[L],decls:35,vars:8,consts:[["Paginator",""],["mat-raised-button","",3,"click"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","descricao"],["matColumnDef","unidadeMedida"],["matColumnDef","ativo"],["matColumnDef","editar"],["matColumnDef","excluir"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Selecione a P\xE1gina",3,"length","pageIndex","pageSize","pageSizeOptions"],[1,"legenda"],[1,"legenda-icon"],[3,"visible"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngClass"],["mat-button","","matTooltip","Editar",3,"click","ngClass"],["mat-button","","matTooltip","Excluir",3,"click","ngClass"],["mat-header-row",""],["mat-row",""]],template:function(r,d){if(r&1){let p=S();o(0,"mat-card")(1,"mat-card-actions")(2,"button",1),y("click",function(){return v(p),x(d.navegarParaCadFornecedor())}),l(3,"Novo Produto"),a()(),o(4,"mat-card-header")(5,"mat-card-title"),l(6,"Produtos"),a()(),o(7,"mat-card-content")(8,"table",2),h(9,3),u(10,ut,2,0,"th",4)(11,ft,2,4,"td",5),_(),h(12,6),u(13,Ct,2,0,"th",4)(14,ht,2,4,"td",5),_(),h(15,7),u(16,_t,2,0,"th",4)(17,gt,2,4,"td",5),_(),h(18,8),u(19,wt,2,0,"th",4)(20,vt,2,4,"td",5),_(),h(21,9),u(22,xt,1,0,"th",4)(23,St,4,6,"td",5),_(),h(24,10),u(25,yt,1,0,"th",4)(26,Mt,4,6,"td",5),_(),u(27,Pt,1,0,"tr",11)(28,bt,1,0,"tr",12),a(),f(29,"mat-paginator",13,0),a(),o(31,"div",14),f(32,"span",15),l(33," Produtos Inativos "),a(),f(34,"app-loading-bar",16),a()}r&2&&(s(27),m("matHeaderRowDef",d.displayedColumns),s(),m("matRowDefColumns",d.displayedColumns),s(),m("length",d.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",j(7,pt)),s(5),m("visible",d.showLoading))},dependencies:[lt,T,Z,nt,tt,Y,ot,et,it,at,rt,E,D,X,A,K,N,G,U,J,B,W,dt,O],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.produto-inativo[_ngcontent-%COMP%]{color:red!important}.legenda[_ngcontent-%COMP%]{text-align:left;margin-top:10px;margin-bottom:5px;margin-left:15px;display:flex;flex-direction:row;justify-content:flex-start}.legenda-icon[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;background-color:red;border-radius:4px;margin-right:8px;border:1px solid #ced4da}"]});let t=i;return t})();export{Bt as ProdutosComponent};
